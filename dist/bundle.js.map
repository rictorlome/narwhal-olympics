{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./lib/camera.js","webpack:///./src/game.js","webpack:///./src/game_view.js","webpack:///./src/moving_object.js","webpack:///./src/nature.js","webpack:///./src/physics_util.js","webpack:///./src/score.js","webpack:///./src/timer.js","webpack:///./src/whale-olympics.js","webpack:///./src/whale.js"],"names":["Camera","constructor","map","width","height","x","y","maxX","cols","tsize","maxY","rows","speed","move","delta","dirx","diry","Math","max","min","Game","DIM_X","DIM_Y","whale","pos","game","background","timer","score","randomPosition","floor","random","draw","bCtx","wCtx","clearRect","moveObjects","GameView","window","start","boundGameDraw","prototype","bind","boundGameMoveObjects","bindKeyHandlers","setInterval","key","accelerate","decelerate","turnLeft","turnRight","freeze","nudge","MovingObject","obj","vel","radius","color","ctx","img","Image","src","rad","angle","PI","translate","rotate","framenumber","chooseFrameNum","sx","chooseFrameSxSy","sy","drawImage","updateFrameCount","turningL","turningR","underwater","framecount","num","Ocean","fillStyle","rect","fill","Ground","Background","randomVec","length","deg","scale","cos","sin","specificVec","radians","vec","m","sqrt","pow","degree","atan2","averageAngle","angle1","angle2","fall","timeOut","slow","depth","Score","display","checkWhale","tricks","resetTricks","addAir","addFlips","Object","keys","forEach","announcements","document","getElementById","innerHTML","Timer","timeleft","decrement","addEventListener","bCanvas","getContext","wCanvas","new_game","new_game_view","Whale","option","waterline","checkTimeout","checkLanding","diff","abs","checkWipeout"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/whale-olympics.js\");\n","class Camera {\n  constructor(map, width, height) {\n    this.x = 0;\n    this.y = 0;\n    this.width = width;\n    this.height = height;\n    this.maxX = map.cols * map.tsize - width;\n    this.maxY = map.rows * map.tsize - height;\n    this.speed = 256;\n  }\n  move(delta, dirx, diry) {\n    this.x += dirx * this.speed * delta;\n    this.y += diry * this.speed * delta;\n    this.x = Math.max(0, Math.min(this.x, this.maxX));\n    this.y = Math.max(0, Math.min(this.y, this.maxY));\n  }\n}\n","import { Whale } from './whale';\nimport { Ocean, Ground, Background } from './nature';\nimport { Timer } from './timer';\nimport { Score } from './score';\nimport { Camera } from '../lib/camera'\n\nexport class Game {\n  constructor(DIM_X, DIM_Y) {\n    this.DIM_X = DIM_X;\n    this.DIM_Y = DIM_Y;\n    this.whale = new Whale({\n      pos: [900,7400],\n      game: this\n    })\n    this.background = new Background()\n    this.timer = new Timer()\n    this.score = new Score(this.whale)\n  }\n\n  randomPosition() {\n    const x = Math.floor(Math.random() * this.DIM_X);\n    const y = Math.floor((Math.random() * 1000) + 4000);\n    return [x,y];\n  }\n\n  draw(bCtx, wCtx) {\n    bCtx.clearRect(0, 0, this.DIM_X, this.DIM_Y);\n    wCtx.clearRect(0, 0, 100, 100)\n    this.background.draw(bCtx,this.whale)\n    this.whale.draw(wCtx)\n  }\n\n  moveObjects() {\n    this.whale.move()\n  }\n}\n","import { Game } from './game'\nimport { Whale } from './whale'\n\nexport class GameView {\n  constructor(game, bCtx, wCtx) {\n    this.game = game;\n    this.bCtx = bCtx;\n    this.wCtx = wCtx;\n    this.whale = this.game.whale\n    window.whale = this.whale\n  }\n\n  start() {\n    const boundGameDraw = Game.prototype.draw.bind(this.game);\n    const boundGameMoveObjects = Game.prototype.moveObjects.bind(this.game)\n    this.bindKeyHandlers();\n    window.setInterval(boundGameDraw, 20, this.bCtx, this.wCtx);\n    window.setInterval(boundGameMoveObjects, 20);\n  }\n\n  bindKeyHandlers() {\n    key('up', () => this.whale.accelerate());\n    key('down', () => this.whale.decelerate());\n    key('left', () => this.whale.turnLeft());\n    key('right', () => this.whale.turnRight());\n    key('space', () => this.whale.freeze());\n    key('n', ()=> this.whale.nudge())\n  }\n}\n","\nexport class MovingObject {\n  constructor(obj) {\n    this.pos = obj.pos;\n    this.vel = obj.vel;\n    this.radius = obj.radius;\n    this.color = obj.color;\n    this.game = obj.game;\n  }\n\n  draw(ctx) {\n    let width = 115;\n    let height = 49.61;\n\n    let img = new Image(width,height)\n    img.src = 'assets/narwhal-right.png'\n    let rad = this.angle * Math.PI / 180\n    ctx.translate(50,50)\n    ctx.rotate(rad)\n\n    let framenumber = this.chooseFrameNum()\n\n    let sx = this.chooseFrameSxSy(framenumber)[0]\n    let sy = this.chooseFrameSxSy(framenumber)[1]\n\n    ctx.drawImage(img, sx, sy, 255,110,-width/2,-height/2, width, height)\n\n    ctx.rotate(-rad)\n    ctx.translate(-50,-50)\n    this.updateFrameCount()\n  };\n  chooseFrameNum() {\n    if (this.turningL) {\n      return 6;\n    } else if (this.turningR) {\n      return 3;\n    } else if (!this.underwater) {\n      return 2;\n    }\n\n    if (this.framecount < 25) {\n      return 1;\n    } else if (this.framecount < 50) {\n      return 2;\n    } else if (this.framecount < 75) {\n      return 7;\n    } else if (this.framecount < 100) {\n      return 8;\n    }\n  }\n  updateFrameCount() {\n    this.framecount = (this.framecount + 1) % 100\n  }\n\n  chooseFrameSxSy(num) {\n    if (num == 1) return [0, 65]\n    if (num == 2) return [255,65]\n    if (num == 3) return [0, 350]\n    if (num == 4) return [255, 335]\n    if (num == 5) return [510, 335]\n    if (num == 6) return [0,610]\n    if (num == 7) return [255, 595]\n    if (num == 8) return [510, 595]\n  }\n}\n","export class Ocean {\n  draw(ctx) {\n    ctx.fillStyle = 'blue';\n    ctx.rect(0,1100,2000,250)\n    ctx.fill();\n  }\n}\n\nexport class Ground {\n  draw(ctx) {\n    ctx.fillStyle = 'brown';\n    ctx.rect(0,1400,2000,100)\n    ctx.fill();\n  }\n}\n\nexport class Background {\n  draw(ctx, whale) {\n    let img = new Image(2500,10000)\n    img.src = 'assets/whale-olympics-background.png';\n    let sx = whale.pos[0]\n    let sy = whale.pos[1]\n    ctx.drawImage(img, (sx-2212)%2500, sy, 575, 750, 0, 0, 575, 750)\n    ctx.drawImage(img, sx%2500, sy, 575, 750, 0, 0, 575, 750)\n    ctx.drawImage(img, (sx+2212)%2500, sy, 575, 750, 0, 0, 575, 750)\n  }\n}\n","export const randomVec = (length) => {\n  const deg = 2 * Math.PI * Math.random();\n  return scale([Math.cos(deg), Math.sin(deg)], length);\n}\nexport const specificVec = (deg, speed) => {\n  let radians = deg * Math.PI / 180\n  let y = Math.sin(radians);\n  let x = Math.cos(radians);\n  return [x*speed, y*speed]\n}\nexport const scale = (vec, m) => {\n  return [vec[0] * m, vec[1] * m];\n}\n\nexport const speed = (vel) => {\n  return Math.sqrt(Math.pow(vel[0],2) + Math.pow(vel[1],2))\n}\n\nexport const degree = (vel) => {\n  return Math.atan2(vel[1],vel[0]) * 180 / Math.PI\n}\n\nexport const averageAngle = (angle1, angle2) => {\n  return (angle1 + angle2) / 2;\n}\n\nexport const fall = (vel, timeOut) => {\n  let x = vel[0]\n  let y = vel[1]\n  if (y > 36) return [x,y]\n  y = y + (.005 * timeOut)\n  return [x, y]\n}\n//8800 waterline\n//9450 ground\nexport const slow = (vel, depth) => {\n  depth = 9000 - depth\n  let x = vel[0]\n  let y = vel[1]\n  if (vel[1] < 0) return [x,y]\n  y = y + (depth/500)\n  return [x,y]\n}\n","export class Score{\n  constructor(whale) {\n    this.whale = whale;\n    this.score = 0;\n    window.setInterval(() => {\n      this.display();\n      this.checkWhale();\n    }, 20)\n    this.tricks = {\n      'fifty' : false,\n      'hundred' : false,\n      'twohun' : false,\n      'halfflip' : false,\n      'oneflip' : false,\n      'oneandhalfflip' : false,\n    }\n  }\n\n  checkWhale() {\n    if (this.whale.underwater) {\n      this.resetTricks();\n    } else {\n      this.addAir();\n      this.addFlips();\n    }\n  }\n  resetTricks() {\n    Object.keys(this.tricks).forEach( (key) => {\n      this.tricks[key] = false;\n    })\n  }\n\n  addAir() {\n    if (this.whale.pos[1] < 7200 && !this.tricks['fifty']) {\n      this.tricks['fifty'] = true;\n      this.score += 50;\n    }\n    if (this.whale.pos[1] < 6000 && !this.tricks['hundred']) {\n      this.tricks['hundred'] = true;\n      this.score += 100;\n    }\n    if (this.whale.pos[1] < 5000 && !this.tricks['twohun']) {\n      this.tricks['twohun'] = true;\n      this.score += 200;\n    }\n  }\n  addFlips() {\n    if (this.whale.angle < -145 && !this.tricks['halfflip']) {\n      this.tricks['halfflip'] = true;\n      this.score += 150;\n    }\n    if (this.whale.angle > 40 && this.tricks['halfflip'] && this.tricks['oneflip']) {\n      this.tricks['oneflip'] = true;\n      this.score += 300;\n    }\n  }\n\n  display() {\n    const announcements = document.getElementById('announcements')\n\n    const score = document.getElementById('score');\n    score.innerHTML = `Score: ${this.score}`\n  }\n}\n","export class Timer {\n  constructor() {\n    this.timeleft = 120;\n    window.setInterval(() => {\n      this.display();\n      this.decrement();\n\n    }, 1000)\n  }\n  decrement() {\n    this.timeleft--;\n  }\n  display() {\n    const timer = document.getElementById('timer')\n    timer.innerHTML = `Time Left: ${this.timeleft}`\n  }\n}\n","import { Game } from './game'\nimport { GameView } from './game_view'\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const bCanvas = document.getElementById('game-canvas');\n  const bCtx = bCanvas.getContext('2d');\n\n  const wCanvas = document.getElementById('whale-canvas');\n  const wCtx = wCanvas.getContext('2d');\n\n  const new_game = new Game(575,750)\n  const new_game_view = new GameView(new_game, bCtx, wCtx)\n\n  new_game_view.start();\n});\n","import { MovingObject } from './moving_object'\nimport * as PhysUtil from './physics_util'\n\n\n\nexport class Whale extends MovingObject {\n  constructor(option) {\n    option.vel = PhysUtil.specificVec(40, .5);\n    super(option)\n    this.underwater = true;\n    this.timeOut = 0;\n    this.angle = 0;\n    this.framecount = 0;\n    this.waterline = 8745;\n  }\n  accelerate() {\n    if (this.underwater && this.vel[0] < 12) {\n      this.vel = PhysUtil.scale(this.vel, 1.20)\n    }\n  }\n  decelerate() {\n    this.vel = PhysUtil.scale(this.vel, .8)\n  }\n  nudge() {\n    this.vel = [.3,-.3]\n  }\n  turnLeft() {\n    let degree = PhysUtil.degree(this.vel)\n    let speed = PhysUtil.speed(this.vel)\n    if (this.underwater) {\n      this.vel = PhysUtil.specificVec((degree-25 % 360), speed)\n    } else {\n      this.angle -= 15;\n    }\n  }\n  turnRight() {\n    let degree = PhysUtil.degree(this.vel)\n    let speed = PhysUtil.speed(this.vel)\n    if (this.underwater) {\n      this.vel = PhysUtil.specificVec((degree+25 % 360), speed)\n    } else {\n      this.angle += 15;\n    }\n  }\n  freeze() {\n    this.vel = [0,0]\n  }\n  checkTimeout() {\n    let depth = this.pos[1];\n    if (depth > this.waterline+10) {\n      this.underwater = true;\n      this.timeOut = 0;\n    } else if (depth < this.waterline-10) {\n      this.underwater = false;\n      this.timeOut++;\n    } else {\n      this.checkLanding()\n    }\n  }\n\n  checkLanding() {\n    let diff = Math.abs(this.angle - PhysUtil.degree(this.vel))\n    if (diff > 30 && this.vel[1] > 2) {\n      this.vel[0] /= 10;\n      this.vel[1] /= 10;\n    }\n  }\n\n  checkWipeout() {\n    let depth = this.pos[1];\n    if (depth > 9450) {\n      this.vel[0] = .4;\n      this.vel[1] = -2;\n    }\n  }\n  move() {\n    this.pos[0] += this.vel[0];\n    this.pos[1] += this.vel[1];\n    this.checkTimeout();\n    this.checkWipeout();\n    if (this.underwater) {\n      this.angle = PhysUtil.averageAngle(this.angle, PhysUtil.degree(this.vel));\n      this.vel = PhysUtil.slow(this.vel,this.pos[1]);\n    } else {\n      this.vel = PhysUtil.fall(this.vel,this.timeOut);\n    }\n  }\n}\n"],"sourceRoot":""}