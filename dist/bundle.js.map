{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/game.js","webpack:///./src/game_view.js","webpack:///./src/moving_object.js","webpack:///./src/nature.js","webpack:///./src/physics_util.js","webpack:///./src/score.js","webpack:///./src/timer.js","webpack:///./src/whale-olympics.js","webpack:///./src/whale.js"],"names":["Game","constructor","whale","pos","game","background","timer","score","started","addListener","randomPosition","x","Math","floor","random","DIM_X","y","draw","bCtx","wCtx","clearRect","canvas","width","height","timeleft","underwater","finish","moveObjects","move","bCanvas","document","getElementById","wCanvas","gameOverModal","fs","hj","innerHTML","classList","add","remove","highest","restart","song","currentTime","vel","angle","start","clearInterval","show","play_again","addEventListener","reload","count","GameView","bindKeyHandlers","bind","boundGameDraw","prototype","boundGameMoveObjects","window","setInterval","onkeydown","e","event","key","keyCode","turnLeft","accelerate","turnRight","decelerate","preventDefault","MovingObject","obj","radius","color","ctx","img","Image","src","rad","PI","translate","rotate","framenumber","chooseFrameNum","sx","chooseFrameSxSy","sy","drawImage","updateFrameCount","turningL","turningR","framecount","num","Background","whiteSpace","randomVec","length","deg","scale","cos","sin","specificVec","speed","radians","vec","m","sqrt","pow","degree","atan2","averageAngle","angle1","angle2","fall","timeOut","slow","depth","Score","display","checkWhale","airTricks","flipTricks","lastFF","lastBF","heightAnn","flipAnn","resetTricks","checkAir","addAir","addFlips","Object","keys","forEach","f","feet","halfFFlips","max","flipangle","halfBFlips","fFlips","bFlips","hTrick","determineHeightTrick","undefined","concat","fTrick","determineFlipTrick","airDisp","trickArr","map","trick","Boolean","indexOf","trickArray","t","cnt","String","resArray","push","join","Timer","paused","decrement","gamePlay","gameMenuModal","gameInfoModal","startButton","gear","dropdown","mute","unmute","info","getContext","new_game","new_game_view","toggle","muted","play","Whale","option","lastUnderwater","waterline","smooth","rock","abs","nudge","freeze","checkTimeout","checkLanding","diff","volume","min","checkWipeout"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/whale-olympics.js\");\n","import { Whale } from './whale';\nimport { Background } from './nature';\nimport { Timer } from './timer';\nimport { Score } from './score';\n\nexport class Game {\n  constructor() {\n    this.whale = new Whale({\n      pos: [90000000000000,7400],\n      game: this\n    })\n    this.background = new Background()\n\n    this.timer = new Timer()\n    this.score = new Score(this.whale)\n    this.started = false;\n    this.addListener()\n  }\n\n  randomPosition() {\n    const x = Math.floor(Math.random() * this.DIM_X);\n    const y = Math.floor((Math.random() * 1000) + 4000);\n    return [x,y];\n  }\n\n  draw(bCtx, wCtx) {\n    bCtx.clearRect(0, 0, bCtx.canvas.width, bCtx.canvas.height);\n    wCtx.clearRect(0, 0, wCtx.canvas.width, wCtx.canvas.height);\n\n    if (this.timer.timeleft === 0 && this.whale.underwater) {\n      this.finish()\n      return;\n    }\n\n    this.background.draw(bCtx,this.whale)\n    this.whale.draw(wCtx)\n  }\n\n  moveObjects() {\n    if (this.started) this.whale.move()\n  }\n  finish() {\n    const bCanvas = document.getElementById('game-canvas');\n    const wCanvas = document.getElementById('whale-canvas');\n    const gameOverModal = document.getElementById('game-over-modal');\n    const fs = document.getElementById('fs')\n    const hj = document.getElementById('hj')\n    const timer = document.getElementById('timer')\n\n    timer.innerHTML = ''\n    bCanvas.classList.add('hidden');\n    wCanvas.classList.add('hidden');\n    gameOverModal.classList.remove('hidden');\n\n    if (fs.innerHTML == 'Final score: ') fs.innerHTML += this.score.score;\n    if (hj.innerHTML == 'Highest jump: ') hj.innerHTML = hj.innerHTML + this.score.highest + \" feet\";\n\n  }\n  restart() {\n    const bCanvas = document.getElementById('game-canvas');\n    const wCanvas = document.getElementById('whale-canvas');\n    const gameOverModal = document.getElementById('game-over-modal');\n    const fs = document.getElementById('fs')\n    const hj = document.getElementById('hj')\n    const song = document.getElementById('song')\n\n    bCanvas.classList.remove('hidden');\n    wCanvas.classList.remove('hidden');\n    gameOverModal.classList.add('hidden')\n    song.currentTime = 0;\n\n    fs.innerHTML = 'Final score: '\n    hj.innerHTML = 'Highest jump: '\n\n    this.whale.pos = [90000000000000, 7400]\n    this.whale.vel = [0, 0]\n    this.whale.angle = 0;\n\n    this.timer = new Timer()\n\n    this.timer.start();\n    clearInterval(this.score.show)\n    this.score = new Score(this.whale)\n  }\n  addListener() {\n    const play_again = document.getElementById('play-again-button')\n    play_again.addEventListener('click', () => this.restart());\n\n    const reload = document.getElementById('reload')\n    reload.addEventListener('click', () => {\n      if (!this.started) return;\n      this.finish();\n      clearInterval(this.timer.count)\n      clearInterval(this.score.show)\n      this.restart();\n    })\n  }\n\n}\n","import { Game } from './game'\nimport { Whale } from './whale'\n\nexport class GameView {\n  constructor(game, bCtx, wCtx) {\n    this.game = game;\n    this.bCtx = bCtx;\n    this.wCtx = wCtx;\n    this.whale = this.game.whale\n    this.bindKeyHandlers = this.bindKeyHandlers.bind(this);\n  }\n\n  start() {\n    const boundGameDraw = Game.prototype.draw.bind(this.game);\n    const boundGameMoveObjects = Game.prototype.moveObjects.bind(this.game)\n\n    this.bindKeyHandlers();\n\n    window.setInterval(boundGameDraw, 26, this.bCtx, this.wCtx);\n    window.setInterval(boundGameMoveObjects, 26);\n  }\n\n  bindKeyHandlers() {\n    const whale = this.whale;\n    document.onkeydown = function(e) {\n    e = e || window.event;\n    switch(e.key || e.keyCode) {\n      case 'ArrowLeft':\n      whale.turnLeft();\n      break;\n\n      case 'ArrowUp':\n      whale.accelerate();\n      break;\n      \n      case 'ArrowRight':\n      whale.turnRight();\n      break;\n\n      case 'ArrowDown':\n      whale.decelerate();\n      break;\n\n      default: return;\n    }\n    e.preventDefault();\n    };\n\n  }\n}\n","\nexport class MovingObject {\n  constructor(obj) {\n    this.pos = obj.pos;\n    this.vel = obj.vel;\n    this.radius = obj.radius;\n    this.color = obj.color;\n    this.game = obj.game;\n  }\n\n  draw(ctx) {\n    let width = 115;\n    let height = 49.61;\n\n    let img = new Image(width,height)\n    img.src = 'assets/narwhal-right.png'\n    let rad = this.angle * Math.PI / 180\n    ctx.translate(50,50)\n    ctx.rotate(rad)\n\n    let framenumber = this.chooseFrameNum()\n\n    let sx = this.chooseFrameSxSy(framenumber)[0]\n    let sy = this.chooseFrameSxSy(framenumber)[1]\n\n    ctx.drawImage(img, sx, sy, 255,110,-width/2,-height/2, width, height)\n\n    ctx.rotate(-rad)\n    ctx.translate(-50,-50)\n    this.updateFrameCount()\n  };\n  chooseFrameNum() {\n    if (this.turningL) {\n      return 6;\n    } else if (this.turningR) {\n      return 3;\n    } else if (!this.underwater) {\n      return 2;\n    }\n\n    if (this.framecount < 25) {\n      return 1;\n    } else if (this.framecount < 50) {\n      return 2;\n    } else if (this.framecount < 75) {\n      return 7;\n    } else if (this.framecount < 100) {\n      return 8;\n    }\n  }\n  updateFrameCount() {\n    this.framecount = (this.framecount + 1) % 100\n  }\n\n  chooseFrameSxSy(num) {\n    if (num == 1) return [0, 65]\n    if (num == 2) return [255,65]\n    if (num == 3) return [0, 350]\n    if (num == 4) return [255, 335]\n    if (num == 5) return [510, 335]\n    if (num == 6) return [0,610]\n    if (num == 7) return [255, 595]\n    if (num == 8) return [510, 595]\n  }\n}\n","export class Background {\n  constructor() {\n    this.img = new Image(2500,10000)\n    this.img.src = 'assets/whale-olympics-background2.png';\n  }\n\n  draw(ctx, whale) {\n    const img = this.img;\n    let sx = whale.pos[0] % 5000\n    let sy = whale.pos[1]\n    let whiteSpace = 5000 - whale.pos[0] % 5000\n    ctx.drawImage(img, sx, sy, ctx.canvas.width, ctx.canvas.height, 0, 0, ctx.canvas.width, ctx.canvas.height)\n    if (whiteSpace > 0 && whiteSpace < 575) {\n      ctx.drawImage(img, 0, sy, ctx.canvas.width, ctx.canvas.height, whiteSpace, 0, ctx.canvas.width, ctx.canvas.height)\n    }\n  }\n}\n","export const randomVec = (length) => {\n  const deg = 2 * Math.PI * Math.random();\n  return scale([Math.cos(deg), Math.sin(deg)], length);\n}\nexport const specificVec = (deg, speed) => {\n  let radians = deg * Math.PI / 180\n  let y = Math.sin(radians);\n  let x = Math.cos(radians);\n  return [x*speed, y*speed]\n}\nexport const scale = (vec, m) => {\n  return [vec[0] * m, vec[1] * m];\n}\n\nexport const speed = (vel) => {\n  return Math.sqrt(Math.pow(vel[0],2) + Math.pow(vel[1],2))\n}\n\nexport const degree = (vel) => {\n  return Math.atan2(vel[1],vel[0]) * 180 / Math.PI\n}\n\nexport const averageAngle = (angle1, angle2) => {\n  return (angle1 + angle2) / 2;\n}\n\nexport const fall = (vel, timeOut) => {\n  let x = vel[0]\n  let y = vel[1]\n  if (y > 36) return [x,y]\n  y = y + (.005 * timeOut)\n  return [x, y]\n}\n//8500 waterline\n//9450 ground\nexport const slow = (vel, depth) => {\n  depth = 8900 - depth\n  let x = vel[0]\n  let y = vel[1]\n  if (vel[1] < 0) return [x,y]\n  y = y + (depth/500)\n  return [x,y]\n}\n","export class Score{\n  constructor(whale) {\n    this.whale = whale;\n    this.score = 0;\n\n    this.show = window.setInterval(() => {\n      this.display();\n      this.checkWhale();\n    }, 20)\n\n    this.airTricks = {\n      'Fifty Feet' : false,\n      'Five Hundred Feet' : false,\n      'One Thousand Feet' : false,\n    }\n    this.flipTricks = {\n      'Forward Flip' : 0,\n      'Backward Flip' : 0,\n    }\n    this.lastFF = 0;\n    this.lastBF = 0;\n\n    this.heightAnn = document.getElementById('announcements-height')\n    this.flipAnn = document.getElementById('announcements-flips')\n    this.highest = 50;\n  }\n\n  checkWhale() {\n    if (this.whale.underwater) {\n      this.resetTricks();\n    } else {\n      this.checkAir();\n      this.addAir();\n      this.addFlips();\n    }\n  }\n  resetTricks() {\n    Object.keys(this.airTricks).forEach( (key) => {\n      this.airTricks[key] = false;\n    })\n    Object.keys(this.flipTricks).forEach( (key) => {\n      this.flipTricks[key] = 0;\n    })\n    this.lastFF = 0;\n    this.lastBF = 0;\n  }\n  checkAir() {\n    const f = this.feet()\n    if (f > this.highest) this.highest = f;\n  }\n  feet() {\n    return Math.floor(7449 - this.whale.pos[1]);\n  }\n\n  addAir() {\n    const f = this.feet()\n    if (f > 50 && !this.airTricks['Fifty Feet']) {\n      this.airTricks['Fifty Feet'] = true;\n      this.score += 50;\n    }\n    if (f > 1000 && !this.airTricks['Five Hundred Feet']) {\n      this.airTricks['Five Hundred Feet'] = true;\n      this.score += 100;\n    }\n    if (f > 2000 && !this.airTricks['One Thousand Feet']) {\n      this.airTricks['One Thousand Feet'] = true;\n      this.score += 200;\n    }\n  }\n  addFlips() {\n    const halfFFlips = Math.max(0,Math.floor(this.whale.flipangle / 180));\n    const halfBFlips = Math.max(0,Math.floor(this.whale.flipangle / -180));\n\n    const fFlips = Math.floor((halfFFlips + 1) / 2);\n    const bFlips = Math.floor((halfBFlips + 1) / 2);\n\n    if (fFlips !== this.lastFF) {\n      this.score += fFlips * 100;\n      this.lastFF = fFlips;\n    }\n    if (bFlips !== this.lastBF) {\n      this.score += bFlips * 100;\n      this.lastBF = bFlips;\n    }\n\n    this.flipTricks['Forward Flip'] = fFlips;\n    this.flipTricks['Backward Flip'] = bFlips;\n\n  }\n\n  display() {\n    const score = document.getElementById('score');\n    score.innerHTML = `Score: ${this.score}`\n\n    const hTrick = this.determineHeightTrick()\n    hTrick === undefined ? this.heightAnn.innerHTML = '' : this.heightAnn.innerHTML = hTrick.concat('!')\n\n    const fTrick = this.determineFlipTrick()\n    if (fTrick === \"\") {\n      this.flipAnn.innerHTML = ''\n    } else {\n      this.flipAnn.innerHTML = fTrick.concat('!')\n    }\n  }\n\n  determineHeightTrick() {\n    const airDisp = ['Fifty Feet', 'Five Hundred Feet', 'One Thousand Feet']\n\n    const trickArr = Object.keys(this.airTricks).map( (trick) => {\n      if (Boolean(this.airTricks[trick])) {\n        return airDisp.indexOf(trick);\n      } else {\n        return -1;\n      }\n    })\n    return airDisp[Math.max(...trickArr)]\n  }\n  determineFlipTrick() {\n    const trickArray = Object.keys(this.flipTricks).map( (trick) => {\n      if (this.flipTricks[trick] === 0) {\n        return -1\n      } else {\n        let t = trick;\n        const cnt = this.flipTricks[trick];\n        cnt > 1 ? t = t.concat('s') : t = t\n        return String(cnt).concat(' ').concat(t)\n      }\n    });\n    const resArray = [];\n    trickArray.forEach((trick) => {\n      if (trick !== -1) resArray.push(trick);\n    })\n    return resArray.join(', ')\n  }\n}\n","export class Timer {\n  constructor() {\n    this.timeleft = 121;\n    this.paused = false;\n  }\n\n  start() {\n    this.count = window.setInterval(() => {\n      this.display();\n      if (!this.paused) this.decrement();\n\n    }, 1000)\n  }\n  decrement() {\n    this.timeleft > 0 ? this.timeleft-- : clearInterval(this.count);\n  }\n  display() {\n    const timer = document.getElementById('timer')\n    timer.innerHTML = `Time Left: ${Math.max(0,this.timeleft-1)}`\n  }\n}\n","import { Game } from './game'\nimport { GameView } from './game_view'\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const gamePlay = document.getElementById('game-play-div')\n  const gameMenuModal = document.getElementById('game-menu-modal')\n  const gameInfoModal = document.getElementById('game-info-modal');\n\n  const startButton = document.getElementById('start-game-button')\n\n  const gear = document.getElementById('gear')\n  const dropdown = document.getElementById('dropdown')\n  const song = document.getElementById('song')\n  const mute = document.getElementById('speaker')\n  const unmute = document.getElementById('speaker-mute')\n  const info = document.getElementById('info');\n\n  const bCanvas = document.getElementById('game-canvas');\n  const bCtx = bCanvas.getContext('2d');\n\n  const wCanvas = document.getElementById('whale-canvas');\n  const wCtx = wCanvas.getContext('2d');\n\n  const new_game = new Game();\n  const new_game_view = new GameView(new_game, bCtx, wCtx);\n\n  gear.addEventListener('click', (e) => {\n    gear.classList.toggle('turnright');\n    gear.classList.toggle('turnleft');\n    dropdown.classList.toggle('invisible');\n    dropdown.classList.toggle('visible');\n  })\n\n  mute.addEventListener('click', (e) => {\n    mute.classList.toggle('hidden')\n    unmute.classList.toggle('hidden')\n    song.muted = true;\n  })\n  unmute.addEventListener('click', (e) => {\n    mute.classList.toggle('hidden')\n    unmute.classList.toggle('hidden')\n    song.muted = false;\n  })\n\n  info.addEventListener('click', (e) => {\n    if (new_game.started) new_game.timer.paused = !new_game.timer.paused;\n    gameInfoModal.classList.toggle('hidden');\n  });\n\n  startButton.addEventListener('click', (e) => {\n    gamePlay.classList.toggle('hidden');\n    gameMenuModal.classList.toggle('hidden');\n    song.play();\n    new_game.started = true;\n    new_game.timer.start();\n  })\n\n  new_game_view.start();\n});\n","import { MovingObject } from './moving_object'\nimport * as PhysUtil from './physics_util'\n\nexport class Whale extends MovingObject {\n  constructor(option) {\n    option.vel = PhysUtil.specificVec(40, .5);\n    super(option)\n    this.lastUnderwater = false;\n    this.underwater = false;\n    this.timeOut = 0;\n    this.angle = 0;\n    this.flipangle = 0;\n    this.framecount = 0;\n    this.waterline = 8755;\n    this.smooth = document.getElementById('smoothsplash')\n    this.rock = document.getElementById('rocksplash')\n  }\n  accelerate() {\n    if (this.underwater && Math.abs(this.vel[0]) < 10) {\n      this.vel = PhysUtil.scale(this.vel, 1.20)\n    }\n  }\n  decelerate() {\n    if (this.underwater) this.vel = PhysUtil.scale(this.vel, .8)\n  }\n  nudge() {\n    this.vel = [.3,-.3]\n  }\n  turnLeft() {\n    let degree = PhysUtil.degree(this.vel)\n    let speed = PhysUtil.speed(this.vel)\n    if (this.underwater) {\n      this.turningL = false;\n      this.turningR = false;\n      this.vel = PhysUtil.specificVec((degree-25 % 360), speed)\n    } else {\n      this.flipangle = this.flipangle - 15;\n      this.angle = (this.angle - 15) % 360;\n    }\n  }\n  turnRight() {\n    let degree = PhysUtil.degree(this.vel)\n    let speed = PhysUtil.speed(this.vel)\n    if (this.underwater) {\n      this.vel = PhysUtil.specificVec((degree+25 % 360), speed)\n    } else {\n      this.flipangle = this.flipangle + 15;\n      this.angle = (this.angle + 15) % 360;\n    }\n  }\n  freeze() {\n    this.vel = [0,0]\n  }\n  checkTimeout() {\n    let depth = this.pos[1];\n    if (depth > this.waterline) {\n      if (!this.lastUnderwater) this.checkLanding();\n      this.underwater = true;\n      this.timeOut = 0;\n      this.flipangle = this.angle\n    } else {\n      this.underwater = false;\n      this.timeOut++;\n    }\n  }\n\n  checkLanding() {\n    let deg = PhysUtil.degree(this.vel);\n    const speed = PhysUtil.speed(this.vel);\n    let diff;\n    this.angle > 0 ? diff = Math.abs(this.angle%360 - deg) : diff = Math.abs(360 + (this.angle%360) - deg)\n    if (diff > 30 && this.vel[1] > 2) {\n      this.vel[0] /= 10;\n      this.vel[1] /= 10;\n      this.rock.volume = Math.min(speed / 50, 1)\n      this.rock.play()\n    } else {\n      this.smooth.volume = Math.min(speed / 50,1)\n      this.smooth.play()\n    }\n  }\n\n  checkWipeout() {\n    let depth = this.pos[1];\n    if (depth > 9600) {\n      this.vel[0] = .4;\n      this.vel[1] = -2;\n    }\n  }\n  move() {\n    this.pos[0] += this.vel[0];\n    this.pos[1] += this.vel[1];\n    this.lastUnderwater = this.underwater;\n\n    this.checkTimeout();\n    this.checkWipeout();\n    if (this.underwater) {\n      this.angle = PhysUtil.averageAngle(this.angle, PhysUtil.degree(this.vel));\n      this.vel = PhysUtil.slow(this.vel,this.pos[1]);\n    } else {\n      this.vel = PhysUtil.fall(this.vel,this.timeOut);\n    }\n  }\n}\n"],"sourceRoot":""}