!function(t){var e={};function s(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},s.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";s.r(e);class i{constructor(t){this.pos=t.pos,this.vel=t.vel,this.radius=t.radius,this.color=t.color,this.game=t.game}draw(t){t.fillStyle=this.color,t.beginPath(),t.arc(this.pos[0],this.pos[1],this.radius,0,2*Math.PI,!1),t.fill()}}const r=(t,e)=>{let s=t*Math.PI/180,i=Math.sin(s);return[Math.cos(s)*e,i*e]},h=(t,e)=>[t[0]*e,t[1]*e],a=t=>Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)),n=t=>180*Math.atan2(t[1],t[0])/Math.PI,o=(t,e)=>{let s=t[0],i=t[1];return[s,i+=.005*e]};class l extends i{constructor(t){t.radius=20,t.color="black",t.vel=r(40,.5),super(t),this.underwater=!0,this.timeOut=0}accelerate(){this.underwater&&(this.vel=h(this.vel,1.2))}decelerate(){this.vel=h(this.vel,.8)}turnLeft(){let t=n(this.vel),e=a(this.vel);this.vel=r(t-15,e)}turnRight(){let t=n(this.vel),e=a(this.vel);this.vel=r(t+15,e)}checkTimeout(){this.pos[1]<1100?(this.underwater=!1,this.timeOut+=1):(this.underwater=!0,this.timeOut=0)}move(){this.pos[0]+=this.vel[0],this.pos[1]+=this.vel[1],this.checkTimeout(),this.underwater||(this.vel=o(this.vel,this.timeOut))}}class c{draw(t){t.fillStyle="blue",t.rect(0,1100,2e3,250),t.fill()}}class u{draw(t){t.fillStyle="brown",t.rect(0,1400,2e3,100),t.fill()}}s(1);class d{constructor(t,e){this.DIM_X=t,this.DIM_Y=e,this.whale=new l({pos:this.randomPosition(),game:this}),this.ground=new u,this.ocean=new c}randomPosition(){return[Math.floor(Math.random()*this.DIM_X),Math.floor(Math.random()*this.DIM_Y)]}draw(t){t.clearRect(0,0,this.DIM_X,this.DIM_Y),this.ground.draw(t),this.ocean.draw(t),this.whale.draw(t)}moveObjects(){this.whale.move()}}document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("game-canvas").getContext("2d");new class{constructor(t,e){this.game=t,this.ctx=e,this.whale=this.game.whale,window.whale=this.whale}start(){const t=d.prototype.draw.bind(this.game),e=d.prototype.moveObjects.bind(this.game);this.bindKeyHandlers(),window.setInterval(t,20,this.ctx),window.setInterval(e,20,this.ctx)}bindKeyHandlers(){key("up",()=>this.whale.accelerate()),key("down",()=>this.whale.decelerate()),key("left",()=>this.whale.turnLeft()),key("right",()=>this.whale.turnRight())}}(new d(2e3,1500),t).start()})},function(t,e){}]);
//# sourceMappingURL=bundle.js.map